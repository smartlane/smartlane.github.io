<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Uploading Data to the SMARTLANE Platform</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=1300">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- <link href='http://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
      <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'> -->
    <link href='http://fonts.googleapis.com/css?family=Titillium+Web:600,400,300' rel='stylesheet' type='text/css'>
    <link rel="icon" href="/static/img/favicon.ico">
    <!-- compiled and minified CSS -->
    <link rel="stylesheet" href="/static/bower_components/bootstrap/dist/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="/static/css/cover.css">
    <!-- Font awesome -->
    <link rel="stylesheet" href="/static/bower_components/fontawesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/bower_components/fontawesome-docker/fontcustom/fontcustom.css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
      details, summary { display: block}
      details {
      border: 1px solid #f5f5f5;
      padding: 1em;
      background-image: -webkit-linear-gradient(white 0%, #f5f5f5 100%);
      background-image: -moz-linear-gradient(white 0%, #f5f5f5 100%);
      background-image: -o-linear-gradient(white 0%, #f5f5f5 100%);
      background-image: linear-gradient(white 0%, #f5f5f5 100%);
      cursor: pointer;
      }
      details:hover, details:focus { background: #ddd; }
      .no-details details > * { display: none; }
      /* .no-details details > summary:before { float: left; width: 20px; content: '► '; }
      .no-details details.open > summary:before { content: '▼ '; } */
      .no-details details summary { display: block; }
      
      #slides {
  overflow: hidden;
  position: relative;
  height: 500px;
  top: 80px;
}

#slides ul {
  list-style: none;
  height: 600px;
  margin: 0;
  padding: 0;
  position: relative;
  top: 280px;
  left: 100px;

}

#slides li {
  height: 400px;
  float: left;
  text-align: left;
  position: relative;
  top: 0px;
    left: 100px;
}

    </style>
<script>
  
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-67739155-1', {
  'storage': 'none',
  'clientId': '11459a79-1e05-45d7-bc76-2b834d0f925b'
});
  ga('send', 'pageview');

</script>
  </head>
  <body data-spy="scroll">
    <div class="site-wrapper">
      <div class="site-wrapper-inner">
        <nav>
          <div class="container-fluid fixedheight" style="position: fixed; top: 0px; padding: 0px; background: white; width: 100%; z-index: 20000000; border-top: 6px solid #e3e3e3; border-bottom: 162px solid #e3e3e3;">
            <ul class="masthead nav navbar-nav masthead-nav fixedheight" style="float: none; margin: 0 auto;">
              <a class="pull-left active" href="/en/#home"><img src="/static/img/logo_sm.png" id="logo-sm" style="z-index: 50000000;"></a>
              <li class="pull-right  bottomaligned">Mobility Intelligence Platform Documentation</li>
            </ul>
          </div>
        </nav>
        <div class="cover-container">
          <div class="inner cover">
    
<br>
<div class="slbox gray"> 
<div style ="text-align: left;">
<h1>Uploading Data to the SMARTLANE Platform</h1>
    <h2>Introduction</h2>
<p>This page assumes you are comfortable with the concepts of datasets (collections of resources) and resources on <a href="">http://smartlane.io</a>. Important to note is that resources can take various forms: they can be a very thin link to an external service, they can be a description of a constant collection and processing of an external service, or they can be actual tables of data.</p>
<p>SMARTLANE provides multiple ways of getting data into the platform:</p>
<ul>
<li>Upload</li>
<li>Leave it to us</li>
<li>HTTP API</li>
<li>Streaming</li>
</ul>
<h3>Upload</h3>
<p>When creating or editing a resource, you can upload files. If these are in popular tabular formats (e.g. CSV, XLS...), they will be translated to queryable database tables.</p>
<h3>Leave it to us</h3>
<p>If you already have an API, just enter it in the resource creation page and check the "Accumulate" option. We'll take care of the rest. This option is also good for sources from the MDM (Mobilitätsdatenmarktplatz), as they require a specialized connection prior to download which we can arrange behind the scenes.</p>
<p><PICTURE CKAN></p>
<h3>HTTP API</h3>
<p>Using your API key, which you can find under your account settings (e.g. https://smartlane.io/user/edit/joebloggs), you can insert records into a datastore-enabled resource. If you created a resource by uploading tabular data (see above), your resource is already datastore-enabled. Otherwise you first need to create a datastore-enabled resource using an API call:</p>
<div class="highlight"><pre><span class="n">Endpoint</span><span class="o">:</span> <span class="n">https</span><span class="o">://</span><span class="n">smartlane</span><span class="o">.</span><span class="na">io</span><span class="sr">/api/3/action/</span><span class="n">datastore_create</span> <span class="o">(</span><span class="n">POST</span><span class="o">)</span>
<span class="n">Headers</span><span class="o">:</span>  <span class="n">Authorization</span><span class="o">:</span> <span class="n">API_KEY</span>
<span class="n">Body</span><span class="o">:</span>     <span class="n">JSON</span> <span class="k">in</span> <span class="n">following</span> <span class="n">format</span><span class="o">:</span>
          <span class="o">{</span>
            <span class="s2">&quot;force&quot;</span><span class="o">:</span><span class="s2">&quot;true&quot;</span><span class="o">,</span>
            <span class="s2">&quot;resource&quot;</span><span class="o">:</span> <span class="o">{</span><span class="s2">&quot;package_id&quot;</span><span class="o">:</span> <span class="s2">&quot;DATASET ID&quot;</span><span class="o">},</span>
            <span class="s2">&quot;primary_key&quot;</span><span class="o">:</span> <span class="o">[</span><span class="s2">&quot;name&quot;</span><span class="o">],</span>
            <span class="s2">&quot;fields&quot;</span><span class="o">:</span>
              <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">&quot;id&quot;</span><span class="o">:</span><span class="s2">&quot;field1&quot;</span><span class="o">,</span>
                  <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;one of text, json, date, time, timestamp, int, float, bool&quot;</span>
                <span class="o">},</span>
                <span class="o">...</span> <span class="n">further</span> <span class="n">fields</span> <span class="o">...</span>
              <span class="o">]</span>
          <span class="o">}</span>
</pre></div>


<p>Once you've done that, you can insert records with further calls:</p>
<div class="highlight"><pre><span class="n">Endpoint</span><span class="o">:</span> <span class="n">https</span><span class="o">://</span><span class="n">smartlane</span><span class="o">.</span><span class="na">io</span><span class="sr">/api/3/action/</span><span class="n">datastore_upsert</span> <span class="o">(</span><span class="n">POST</span><span class="o">)</span>
<span class="n">Headers</span><span class="o">:</span>  <span class="n">Authorization</span><span class="o">:</span> <span class="n">API_KEY</span>
<span class="n">Body</span><span class="o">:</span>     <span class="n">JSON</span> <span class="k">in</span> <span class="n">following</span> <span class="n">format</span><span class="o">:</span>
          <span class="o">{</span>
            <span class="s2">&quot;force&quot;</span><span class="o">:</span><span class="s2">&quot;true&quot;</span><span class="o">,</span>
            <span class="s2">&quot;resource_id&quot;</span><span class="o">:</span> <span class="s2">&quot;RESOURCE ID&quot;</span><span class="o">,</span>
            <span class="s2">&quot;records&quot;</span><span class="o">:</span>
              <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">&quot;field1&quot;</span><span class="o">:</span> <span class="n">value</span><span class="o">,</span>
                  <span class="s2">&quot;field2&quot;</span><span class="o">:</span> <span class="s2">&quot;quoted_value&quot;</span><span class="o">,</span>
                  <span class="s2">&quot;field3&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="o">,</span>
                  <span class="s2">&quot;a_time_field&quot;</span><span class="o">:</span> <span class="s2">&quot;2015-10-26 08:20:00&quot;</span>
                <span class="o">}</span>
              <span class="o">]</span>
          <span class="o">}</span>
</pre></div>


<p>For more details on using the API, see our <a href="../api/">API page</a>.</p>
<h3>Streaming</h3>
<p>If your data is event based and/or very frequently updated, perhaps from multiple sources, or if you currently write data to a relational database, you can stream all events or changes within the database directly to us. Currently we support the <a href="https://github.com/pyr/recordbus">recordbus</a> project for MySQL, but if you are familiar with <a href="http://kafka.apache.org/">Apache Kafka</a>, you can write a producer for your system using one of the many <a href="https://cwiki.apache.org/confluence/display/KAFKA/Clients#Clients-For0.8.x">Client Frameworks</a> and register it with our broker at kafka.smartlane.io, port 9092. Please note that only authorized IPs can perform this action - contact us at <a href="mailto:support@smartlane.de">support@smartlane.de</a> to get started.</p>
<p>For more details on setting up recordbus, see our <a href="../mysql">page on MySQL replication</a>.</p>
    </div>
    </div>
          </div>
        </div>
      </div>
    </div>
 <!-- Bootstrap core JavaScript
      ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/static/bower_components/jquery/dist/jquery.min.js"></script> <!-- Latest compiled and minified JavaScript -->
    <script src="/static/bower_components/bootstrap/dist/js/bootstrap.min.js"></script> <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="/static/js/ie10-viewport-bug-workaround.js"></script>
    <!-- <script src="http://www.schimandl.de/smartlane/jquery.details.js?v=0.1.0"></script> -->
    <script>
      //window.console || (window.console = { 'log': alert });
      $(function () {
$(document).ready(function () {
  //rotation speed and timer
  var speed = 6000;
  
  var run = setInterval(rotate, speed);
  var slides = $('.slide');
  var container = $('#slides ul');
  var elm = container.find(':first-child').prop("tagName");
  var item_width = container.width();
  var previous = 'prev'; //id of previous button
  var next = 'next'; //id of next button
  slides.width(item_width); //set the slides to the correct pixel width
  container.parent().width(item_width);
  container.width(slides.length * item_width); //set the slides container to the correct total width
  container.find(elm + ':first').before(container.find(elm + ':last'));
  resetSlides();
  
  
  //if user clicked on prev button
  
  $('#buttons a').click(function (e) {
    //slide the item
    
    if (container.is(':animated')) {
      return false;
    }
    if (e.target.id == previous) {
      container.stop().animate({
        'left': 0
      }, 2500, function () {
        container.find(elm + ':first').before(container.find(elm + ':last'));
        resetSlides();
      });
    }
    
    if (e.target.id == next) {
      container.stop().animate({
        'left': item_width * -2
      }, 2500, function () {
        container.find(elm + ':last').after(container.find(elm + ':first'));
        resetSlides();
      });
    }
    
    //cancel the link behavior      
    return false;
    
  });
  

  
  
  function resetSlides() {
    //and adjust the container so current is in the frame
    container.css({
      'left': -1 * item_width
    });
  }
  
});
//a simple function to click next link
//a timer will call this function, and the rotation will begin

function rotate() {
  $('#next').click();
}

});


    </script>
<script>
//Manual menu highlighting
$("#home-menu-li").removeClass("active");
$("#uploadingdata-menu-li").addClass("active");
</script>
  </body>
</html>
